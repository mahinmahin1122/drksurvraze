<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel - Drk Survraze SMP</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700;800&family=Orbitron:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #4CAF50;
            --primary-dark: #388E3C;
            --secondary: #FF9800;
            --accent: #2196F3;
            --dark: #121212;
            --darker: #0a0a0a;
            --light: #f8f9fa;
            --text: #e0e0e0;
            --text-muted: #a0a0a0;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            background: var(--dark);
            color: var(--text);
            font-family: 'Montserrat', sans-serif;
            min-height: 100vh;
        }
        
        .minecraft-font {
            font-family: 'Orbitron', sans-serif;
            font-weight: 700;
            letter-spacing: 1px;
        }
        
        .admin-header {
            background: rgba(18, 18, 18, 0.95);
            border-bottom: 2px solid var(--primary);
            padding: 20px 0;
        }
        
        .admin-sidebar {
            background: rgba(30, 30, 30, 0.9);
            min-height: calc(100vh - 80px);
            padding: 0;
        }
        
        .admin-content {
            background: var(--darker);
            min-height: calc(100vh - 80px);
            padding: 30px;
        }
        
        .nav-pills .nav-link {
            color: var(--text);
            padding: 15px 20px;
            border-radius: 0;
            border-left: 3px solid transparent;
            transition: all 0.3s ease;
        }
        
        .nav-pills .nav-link.active {
            background: rgba(76, 175, 80, 0.2);
            color: var(--primary);
            border-left-color: var(--primary);
        }
        
        .nav-pills .nav-link:hover {
            background: rgba(255, 255, 255, 0.05);
            color: var(--primary);
        }
        
        .form-control {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: white;
        }
        
        .form-control:focus {
            background: rgba(255, 255, 255, 0.15);
            border-color: var(--primary);
            color: white;
            box-shadow: 0 0 0 0.2rem rgba(76, 175, 80, 0.25);
        }
        
        .btn-primary-custom {
            background: linear-gradient(45deg, var(--primary), var(--primary-dark));
            border: none;
            color: white;
            font-weight: 600;
            padding: 10px 20px;
            border-radius: 8px;
            transition: all 0.3s ease;
        }
        
        .btn-primary-custom:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(76, 175, 80, 0.4);
        }
        
        .btn-secondary-custom {
            background: transparent;
            border: 2px solid var(--secondary);
            color: var(--secondary);
            font-weight: 600;
            padding: 10px 20px;
            border-radius: 8px;
            transition: all 0.3s ease;
        }
        
        .btn-secondary-custom:hover {
            background: var(--secondary);
            color: white;
        }
        
        .admin-tab {
            display: none;
        }
        
        .admin-tab.active {
            display: block;
        }
        
        .logout-btn {
            background: transparent;
            border: 2px solid #dc3545;
            color: #dc3545;
            padding: 8px 15px;
            border-radius: 5px;
            transition: all 0.3s ease;
        }
        
        .logout-btn:hover {
            background: #dc3545;
            color: white;
        }
        
        .card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 10px;
        }
        
        .card-header {
            background: rgba(255, 255, 255, 0.1);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .feature-list {
            max-height: 200px;
            overflow-y: auto;
        }
        
        .feature-item {
            background: rgba(255, 255, 255, 0.05);
            padding: 10px;
            margin-bottom: 5px;
            border-radius: 5px;
            border-left: 3px solid var(--primary);
        }
        
        .preview-image {
            max-width: 100%;
            height: auto;
            border-radius: 8px;
            margin-top: 10px;
        }
        
        .rank-features {
            max-height: 300px;
            overflow-y: auto;
        }
    </style>
</head>
<body>
    <!-- Admin Header -->
    <header class="admin-header">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-md-6">
                    <h2 class="minecraft-font mb-0">
                        <i class="fas fa-user-shield me-2"></i>Admin Panel
                    </h2>
                    <small class="text-muted">Drk Survraze SMP Control Center</small>
                </div>
                <div class="col-md-6 text-end">
                    <button class="btn logout-btn" onclick="logout()">
                        <i class="fas fa-sign-out-alt me-2"></i>Logout
                    </button>
                </div>
            </div>
        </div>
    </header>

    <div class="container-fluid">
        <div class="row">
            <!-- Sidebar -->
            <div class="col-md-3 admin-sidebar">
                <div class="nav flex-column nav-pills p-3">
                    <button class="nav-link active" onclick="switchTab('header')">
                        <i class="fas fa-heading me-2"></i>Header & Logo
                    </button>
                    <button class="nav-link" onclick="switchTab('ranks')">
                        <i class="fas fa-crown me-2"></i>Rank Management
                    </button>
                    <button class="nav-link" onclick="switchTab('voting')">
                        <i class="fas fa-vote-yea me-2"></i>Voting System
                    </button>
                    <button class="nav-link" onclick="switchTab('store')">
                        <i class="fas fa-store me-2"></i>Store Settings
                    </button>
                    <button class="nav-link" onclick="switchTab('general')">
                        <i class="fas fa-cog me-2"></i>General Settings
                    </button>
                    <button class="nav-link" onclick="switchTab('social')">
                        <i class="fas fa-share-alt me-2"></i>Social Links
                    </button>
                    <button class="nav-link" onclick="switchTab('backup')">
                        <i class="fas fa-download me-2"></i>Backup & Restore
                    </button>
                </div>
            </div>

            <!-- Main Content -->
            <div class="col-md-9 admin-content">
                <!-- Header & Logo Tab -->
                <div id="header-tab" class="admin-tab active">
                    <h3 class="mb-4">Header & Logo Settings</h3>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="card mb-4">
                                <div class="card-header">
                                    <h5 class="mb-0">Brand & Logo</h5>
                                </div>
                                <div class="card-body">
                                    <div class="mb-3">
                                        <label class="form-label">Server Name</label>
                                        <input type="text" class="form-control" id="serverName" value="Drk Survraze SMP">
                                    </div>
                                    <div class="mb-3">
                                        <label class="form-label">Logo URL</label>
                                        <input type="text" class="form-control" id="logoUrl" placeholder="https://example.com/logo.png">
                                        <small class="text-muted">Leave empty to use default icon</small>
                                    </div>
                                    <div class="mb-3">
                                        <label class="form-label">Logo Preview</label>
                                        <div id="logoPreview" class="preview-image-container">
                                            <img src="" alt="Logo Preview" class="preview-image" id="logoPreviewImg" style="display: none;">
                                            <div id="defaultLogo" class="text-muted">
                                                <i class="fas fa-dragon fa-3x"></i>
                                                <div>Default Icon</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="card mb-4">
                                <div class="card-header">
                                    <h5 class="mb-0">Hero Section</h5>
                                </div>
                                <div class="card-body">
                                    <div class="mb-3">
                                        <label class="form-label">Main Title</label>
                                        <input type="text" class="form-control" id="heroTitle" value="DRK SURVRAZE SMP">
                                    </div>
                                    <div class="mb-3">
                                        <label class="form-label">Subtitle</label>
                                        <textarea class="form-control" id="heroSubtitle" rows="3">Experience the ultimate Minecraft Survival Multiplayer adventure. Join our thriving community today!</textarea>
                                    </div>
                                    <div class="mb-3">
                                        <label class="form-label">Hero Background Image</label>
                                        <input type="text" class="form-control" id="heroBackground" value="https://images.unsplash.com/photo-1550745165-9bc0b252726f?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1920&q=80">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Rank Management Tab -->
                <div id="ranks-tab" class="admin-tab">
                    <h3 class="mb-4">Rank Management</h3>
                    <div class="row">
                        <div class="col-md-4">
                            <div class="card mb-4">
                                <div class="card-header d-flex justify-content-between align-items-center">
                                    <h5 class="mb-0">VIP Rank</h5>
                                    <div class="form-check form-switch">
                                        <input class="form-check-input" type="checkbox" id="vipEnabled" checked>
                                        <label class="form-check-label" for="vipEnabled">Enable</label>
                                    </div>
                                </div>
                                <div class="card-body">
                                    <div class="mb-3">
                                        <label class="form-label">Rank Name</label>
                                        <input type="text" class="form-control" id="vipName" value="VIP">
                                    </div>
                                    <div class="mb-3">
                                        <label class="form-label">Price</label>
                                        <input type="text" class="form-control" id="vipPrice" value="$4.99">
                                    </div>
                                    <div class="mb-3">
                                        <label class="form-label">Purchase Link</label>
                                        <input type="text" class="form-control" id="vipLink" value="#">
                                    </div>
                                    <div class="mb-3">
                                        <label class="form-label">Features (One per line)</label>
                                        <textarea class="form-control rank-features" id="vipFeatures" rows="6">VIP Prefix in Chat
Access to VIP Area
3 Homes
Special Particle Effects
Colorful Nickname</textarea>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="card mb-4">
                                <div class="card-header d-flex justify-content-between align-items-center">
                                    <h5 class="mb-0">MVP Rank</h5>
                                    <div class="form-check form-switch">
                                        <input class="form-check-input" type="checkbox" id="mvpEnabled" checked>
                                        <label class="form-check-label" for="mvpEnabled">Enable</label>
                                    </div>
                                </div>
                                <div class="card-body">
                                    <div class="mb-3">
                                        <label class="form-label">Rank Name</label>
                                        <input type="text" class="form-control" id="mvpName" value="MVP">
                                    </div>
                                    <div class="mb-3">
                                        <label class="form-label">Price</label>
                                        <input type="text" class="form-control" id="mvpPrice" value="$9.99">
                                    </div>
                                    <div class="mb-3">
                                        <label class="form-label">Purchase Link</label>
                                        <input type="text" class="form-control" id="mvpLink" value="#">
                                    </div>
                                    <div class="mb-3">
                                        <label class="form-label">Features (One per line)</label>
                                        <textarea class="form-control rank-features" id="mvpFeatures" rows="6">All VIP Features
MVP Prefix in Chat
Access to MVP Area
5 Homes
Exclusive Particle Effects
Fly Command</textarea>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="card mb-4">
                                <div class="card-header d-flex justify-content-between align-items-center">
                                    <h5 class="mb-0">Legend Rank</h5>
                                    <div class="form-check form-switch">
                                        <input class="form-check-input" type="checkbox" id="legendEnabled" checked>
                                        <label class="form-check-label" for="legendEnabled">Enable</label>
                                    </div>
                                </div>
                                <div class="card-body">
                                    <div class="mb-3">
                                        <label class="form-label">Rank Name</label>
                                        <input type="text" class="form-control" id="legendName" value="LEGEND">
                                    </div>
                                    <div class="mb-3">
                                        <label class="form-label">Price</label>
                                        <input type="text" class="form-control" id="legendPrice" value="$19.99">
                                    </div>
                                    <div class="mb-3">
                                        <label class="form-label">Purchase Link</label>
                                        <input type="text" class="form-control" id="legendLink" value="#">
                                    </div>
                                    <div class="mb-3">
                                        <label class="form-label">Features (One per line)</label>
                                        <textarea class="form-control rank-features" id="legendFeatures" rows="6">All MVP Features
Legend Prefix in Chat
Access to Legend Area
10 Homes
Legendary Particle Effects
Custom Join Message
Priority Support</textarea>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="row">
                        <div class="col-12">
                            <div class="card">
                                <div class="card-header">
                                    <h5 class="mb-0">Add New Rank</h5>
                                </div>
                                <div class="card-body">
                                    <div class="row">
                                        <div class="col-md-3">
                                            <div class="mb-3">
                                                <label class="form-label">Rank Name</label>
                                                <input type="text" class="form-control" id="newRankName" placeholder="e.g., ULTIMATE">
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <div class="mb-3">
                                                <label class="form-label">Price</label>
                                                <input type="text" class="form-control" id="newRankPrice" placeholder="$29.99">
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <div class="mb-3">
                                                <label class="form-label">Purchase Link</label>
                                                <input type="text" class="form-control" id="newRankLink" placeholder="#">
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <div class="mb-3">
                                                <label class="form-label">&nbsp;</label>
                                                <button class="btn btn-primary-custom w-100" onclick="addNewRank()">
                                                    <i class="fas fa-plus me-2"></i>Add Rank
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Voting System Tab -->
                <div id="voting-tab" class="admin-tab">
                    <h3 class="mb-4">Voting System</h3>
                    <div class="row" id="votingSitesContainer">
                        <!-- Voting sites will be dynamically loaded here -->
                    </div>
                    
                    <div class="row mt-4">
                        <div class="col-12">
                            <div class="card">
                                <div class="card-header">
                                    <h5 class="mb-0">Add New Vote Site</h5>
                                </div>
                                <div class="card-body">
                                    <div class="row">
                                        <div class="col-md-3">
                                            <div class="mb-3">
                                                <label class="form-label">Site Name</label>
                                                <input type="text" class="form-control" id="newVoteSiteName" placeholder="e.g., Minecraft-ServerList.com">
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <div class="mb-3">
                                                <label class="form-label">Vote Link</label>
                                                <input type="text" class="form-control" id="newVoteSiteLink" placeholder="https://...">
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <div class="mb-3">
                                                <label class="form-label">Reward</label>
                                                <input type="text" class="form-control" id="newVoteSiteReward" placeholder="e.g., 500 DIAMONDS">
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <div class="mb-3">
                                                <label class="form-label">&nbsp;</label>
                                                <button class="btn btn-primary-custom w-100" onclick="addNewVoteSite()">
                                                    <i class="fas fa-plus me-2"></i>Add Site
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Store Settings Tab -->
                <div id="store-tab" class="admin-tab">
                    <h3 class="mb-4">Store Settings</h3>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="card mb-4">
                                <div class="card-header">
                                    <h5 class="mb-0">Store Configuration</h5>
                                </div>
                                <div class="card-body">
                                    <div class="mb-3">
                                        <label class="form-label">Store Title</label>
                                        <input type="text" class="form-control" id="storeTitle" value="SERVER STORE">
                                    </div>
                                    <div class="mb-3">
                                        <label class="form-label">Store Description</label>
                                        <textarea class="form-control" id="storeDescription" rows="3">Upgrade your experience with our premium ranks and packages!</textarea>
                                    </div>
                                    <div class="mb-3">
                                        <label class="form-label">Currency Symbol</label>
                                        <input type="text" class="form-control" id="currencySymbol" value="$" maxlength="3">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="card mb-4">
                                <div class="card-header">
                                    <h5 class="mb-0">Payment Methods</h5>
                                </div>
                                <div class="card-body">
                                    <div class="form-check mb-3">
                                        <input class="form-check-input" type="checkbox" id="paypalEnabled" checked>
                                        <label class="form-check-label" for="paypalEnabled">PayPal</label>
                                    </div>
                                    <div class="form-check mb-3">
                                        <input class="form-check-input" type="checkbox" id="stripeEnabled">
                                        <label class="form-check-label" for="stripeEnabled">Stripe</label>
                                    </div>
                                    <div class="form-check mb-3">
                                        <input class="form-check-input" type="checkbox" id="cryptoEnabled">
                                        <label class="form-check-label" for="cryptoEnabled">Cryptocurrency</label>
                                    </div>
                                    <div class="mb-3">
                                        <label class="form-label">Custom Payment Instructions</label>
                                        <textarea class="form-control" id="paymentInstructions" rows="3" placeholder="Additional payment instructions..."></textarea>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- General Settings Tab -->
                <div id="general-tab" class="admin-tab">
                    <h3 class="mb-4">General Settings</h3>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="card mb-4">
                                <div class="card-header">
                                    <h5 class="mb-0">Server Information</h5>
                                </div>
                                <div class="card-body">
                                    <div class="mb-3">
                                        <label class="form-label">Server IP</label>
                                        <input type="text" class="form-control" id="serverIp" value="play.drksurvraze.top">
                                    </div>
                                    <div class="mb-3">
                                        <label class="form-label">Server Status</label>
                                        <select class="form-control" id="serverStatus">
                                            <option value="online">Online</option>
                                            <option value="offline">Offline</option>
                                            <option value="maintenance">Maintenance</option>
                                        </select>
                                    </div>
                                    <div class="mb-3">
                                        <label class="form-label">Players Online</label>
                                        <input type="text" class="form-control" id="playersOnline" value="47/100">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="card mb-4">
                                <div class="card-header">
                                    <h5 class="mb-0">Appearance</h5>
                                </div>
                                <div class="card-body">
                                    <div class="mb-3">
                                        <label class="form-label">Primary Color</label>
                                        <input type="color" class="form-control" id="primaryColor" value="#4CAF50">
                                    </div>
                                    <div class="mb-3">
                                        <label class="form-label">Secondary Color</label>
                                        <input type="color" class="form-control" id="secondaryColor" value="#FF9800">
                                    </div>
                                    <div class="mb-3">
                                        <label class="form-label">Discord Link</label>
                                        <input type="text" class="form-control" id="discordLink" value="https://discord.gg/drksurvraze">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Social Links Tab -->
                <div id="social-tab" class="admin-tab">
                    <h3 class="mb-4">Social Links</h3>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="card mb-4">
                                <div class="card-header">
                                    <h5 class="mb-0">Social Media</h5>
                                </div>
                                <div class="card-body">
                                    <div class="mb-3">
                                        <label class="form-label">Discord</label>
                                        <input type="text" class="form-control" id="socialDiscord" value="#">
                                    </div>
                                    <div class="mb-3">
                                        <label class="form-label">Twitter</label>
                                        <input type="text" class="form-control" id="socialTwitter" value="#">
                                    </div>
                                    <div class="mb-3">
                                        <label class="form-label">YouTube</label>
                                        <input type="text" class="form-control" id="socialYouTube" value="#">
                                    </div>
                                    <div class="mb-3">
                                        <label class="form-label">TikTok</label>
                                        <input type="text" class="form-control" id="socialTikTok" value="#">
                                    </div>
                                    <div class="mb-3">
                                        <label class="form-label">Instagram</label>
                                        <input type="text" class="form-control" id="socialInstagram" value="#">
                                    </div>
                                    <div class="mb-3">
                                        <label class="form-label">Facebook</label>
                                        <input type="text" class="form-control" id="socialFacebook" value="#">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Backup & Restore Tab -->
                <div id="backup-tab" class="admin-tab">
                    <h3 class="mb-4">Backup & Restore</h3>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="card mb-4">
                                <div class="card-header">
                                    <h5 class="mb-0">Backup Settings</h5>
                                </div>
                                <div class="card-body">
                                    <p class="text-muted mb-3">Download your current settings as a backup file.</p>
                                    <button class="btn btn-primary-custom" onclick="backupSettings()">
                                        <i class="fas fa-download me-2"></i>Download Backup
                                    </button>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="card mb-4">
                                <div class="card-header">
                                    <h5 class="mb-0">Restore Settings</h5>
                                </div>
                                <div class="card-body">
                                    <p class="text-muted mb-3">Upload a backup file to restore settings.</p>
                                    <div class="mb-3">
                                        <input type="file" class="form-control" id="backupFile" accept=".json">
                                    </div>
                                    <button class="btn btn-secondary-custom" onclick="restoreSettings()">
                                        <i class="fas fa-upload me-2"></i>Upload & Restore
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-12">
                            <div class="card">
                                <div class="card-header">
                                    <h5 class="mb-0">Reset Settings</h5>
                                </div>
                                <div class="card-body">
                                    <p class="text-muted mb-3">Reset all settings to default values.</p>
                                    <button class="btn btn-danger" onclick="resetSettings()">
                                        <i class="fas fa-trash me-2"></i>Reset to Default
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Save Button -->
                <div class="mt-4">
                    <button class="btn btn-primary-custom me-2" onclick="saveSettings()">
                        <i class="fas fa-save me-2"></i>Save All Settings
                    </button>
                    <button class="btn btn-secondary-custom" onclick="previewChanges()">
                        <i class="fas fa-eye me-2"></i>Preview Changes
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Check authentication
        function checkAuth() {
            if (localStorage.getItem('adminLoggedIn') !== 'true') {
                window.location.href = 'admin-login.html';
                return false;
            }
            
            // Check session timeout (24 hours)
            const loginTime = localStorage.getItem('loginTime');
            const currentTime = new Date().getTime();
            const hours24 = 24 * 60 * 60 * 1000;
            
            if (currentTime - loginTime > hours24) {
                logout();
                return false;
            }
            
            return true;
        }

        function logout() {
            localStorage.removeItem('adminLoggedIn');
            localStorage.removeItem('loginTime');
            window.location.href = 'admin-login.html';
        }

        function switchTab(tabName) {
            // Hide all tabs
            document.querySelectorAll('.admin-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Remove active class from all nav links
            document.querySelectorAll('.nav-link').forEach(link => {
                link.classList.remove('active');
            });
            
            // Show selected tab and activate nav link
            document.getElementById(tabName + '-tab').classList.add('active');
            event.target.classList.add('active');
        }

        function loadSettings() {
            const settings = JSON.parse(localStorage.getItem('serverSettings'));
            if (!settings) return;
            
            // Load header settings
            document.getElementById('serverName').value = settings.serverName || 'Drk Survraze SMP';
            document.getElementById('logoUrl').value = settings.logoUrl || '';
            document.getElementById('heroTitle').value = settings.heroTitle || 'DRK SURVRAZE SMP';
            document.getElementById('heroSubtitle').value = settings.heroSubtitle || 'Experience the ultimate Minecraft Survival Multiplayer adventure. Join our thriving community today!';
            document.getElementById('heroBackground').value = settings.heroBackground || 'https://images.unsplash.com/photo-1550745165-9bc0b252726f?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1920&q=80';
            
            // Update logo preview
            updateLogoPreview();
            
            // Load rank settings
            document.getElementById('vipEnabled').checked = settings.vipEnabled !== false;
            document.getElementById('vipName').value = settings.vipName || 'VIP';
            document.getElementById('vipPrice').value = settings.vipPrice || '$4.99';
            document.getElementById('vipLink').value = settings.vipLink || '#';
            document.getElementById('vipFeatures').value = settings.vipFeatures || 'VIP Prefix in Chat\nAccess to VIP Area\n3 Homes\nSpecial Particle Effects\nColorful Nickname';
            
            document.getElementById('mvpEnabled').checked = settings.mvpEnabled !== false;
            document.getElementById('mvpName').value = settings.mvpName || 'MVP';
            document.getElementById('mvpPrice').value = settings.mvpPrice || '$9.99';
            document.getElementById('mvpLink').value = settings.mvpLink || '#';
            document.getElementById('mvpFeatures').value = settings.mvpFeatures || 'All VIP Features\nMVP Prefix in Chat\nAccess to MVP Area\n5 Homes\nExclusive Particle Effects\nFly Command';
            
            document.getElementById('legendEnabled').checked = settings.legendEnabled !== false;
            document.getElementById('legendName').value = settings.legendName || 'LEGEND';
            document.getElementById('legendPrice').value = settings.legendPrice || '$19.99';
            document.getElementById('legendLink').value = settings.legendLink || '#';
            document.getElementById('legendFeatures').value = settings.legendFeatures || 'All MVP Features\nLegend Prefix in Chat\nAccess to Legend Area\n10 Homes\nLegendary Particle Effects\nCustom Join Message\nPriority Support';
            
            // Load voting settings
            loadVotingSites(settings.votingSites);
            
            // Load store settings
            document.getElementById('storeTitle').value = settings.storeTitle || 'SERVER STORE';
            document.getElementById('storeDescription').value = settings.storeDescription || 'Upgrade your experience with our premium ranks and packages!';
            document.getElementById('currencySymbol').value = settings.currencySymbol || '$';
            document.getElementById('paypalEnabled').checked = settings.paypalEnabled || false;
            document.getElementById('stripeEnabled').checked = settings.stripeEnabled || false;
            document.getElementById('cryptoEnabled').checked = settings.cryptoEnabled || false;
            document.getElementById('paymentInstructions').value = settings.paymentInstructions || '';
            
            // Load general settings
            document.getElementById('serverIp').value = settings.serverIp || 'play.drksurvraze.top';
            document.getElementById('serverStatus').value = settings.serverStatus || 'online';
            document.getElementById('playersOnline').value = settings.playersOnline || '47/100';
            document.getElementById('primaryColor').value = settings.primaryColor || '#4CAF50';
            document.getElementById('secondaryColor').value = settings.secondaryColor || '#FF9800';
            document.getElementById('discordLink').value = settings.discordLink || 'https://discord.gg/drksurvraze';
            
            // Load social settings
            document.getElementById('socialDiscord').value = settings.socialDiscord || '#';
            document.getElementById('socialTwitter').value = settings.socialTwitter || '#';
            document.getElementById('socialYouTube').value = settings.socialYouTube || '#';
            document.getElementById('socialTikTok').value = settings.socialTikTok || '#';
            document.getElementById('socialInstagram').value = settings.socialInstagram || '#';
            document.getElementById('socialFacebook').value = settings.socialFacebook || '#';
        }

        function updateLogoPreview() {
            const logoUrl = document.getElementById('logoUrl').value;
            const previewImg = document.getElementById('logoPreviewImg');
            const defaultLogo = document.getElementById('defaultLogo');
            
            if (logoUrl) {
                previewImg.src = logoUrl;
                previewImg.style.display = 'block';
                defaultLogo.style.display = 'none';
            } else {
                previewImg.style.display = 'none';
                defaultLogo.style.display = 'block';
            }
        }

        function loadVotingSites(votingSites) {
            const container = document.getElementById('votingSitesContainer');
            container.innerHTML = '';
            
            const sites = votingSites || [
                {
                    name: 'Minecraft-MP.com',
                    link: '#',
                    reward: '500 DIAMONDS',
                    enabled: true
                },
                {
                    name: 'TopG.org',
                    link: '#',
                    reward: 'EXCLUSIVE COSMETIC',
                    enabled: true
                },
                {
                    name: 'Minecraft-Servers.biz',
                    link: '#',
                    reward: 'REAL MONEY PRIZE',
                    enabled: true
                }
            ];
            
            sites.forEach((site, index) => {
                const col = document.createElement('div');
                col.className = 'col-md-4';
                col.innerHTML = `
                    <div class="card mb-4">
                        <div class="card-header d-flex justify-content-between align-items-center">
                            <h5 class="mb-0">Vote Site ${index + 1}</h5>
                            <div class="form-check form-switch">
                                <input class="form-check-input" type="checkbox" id="voteSite${index}Enabled" ${site.enabled ? 'checked' : ''}>
                                <label class="form-check-label" for="voteSite${index}Enabled">Enable</label>
                            </div>
                        </div>
                        <div class="card-body">
                            <div class="mb-3">
                                <label class="form-label">Site Name</label>
                                <input type="text" class="form-control" id="voteSite${index}Name" value="${site.name}">
                            </div>
                            <div class="mb-3">
                                <label class="form-label">Vote Link</label>
                                <input type="text" class="form-control" id="voteSite${index}Link" value="${site.link}">
                            </div>
                            <div class="mb-3">
                                <label class="form-label">Reward</label>
                                <input type="text" class="form-control" id="voteSite${index}Reward" value="${site.reward}">
                            </div>
                            <button class="btn btn-danger btn-sm w-100" onclick="removeVoteSite(${index})">
                                <i class="fas fa-trash me-2"></i>Remove Site
                            </button>
                        </div>
                    </div>
                `;
                container.appendChild(col);
            });
        }

        function addNewRank() {
            const name = document.getElementById('newRankName').value;
            const price = document.getElementById('newRankPrice').value;
            const link = document.getElementById('newRankLink').value;
            
            if (!name || !price) {
                alert('Please fill in rank name and price!');
                return;
            }
            
            // In a real implementation, you would add this to your ranks array
            alert(`New rank "${name}" added with price ${price}`);
            
            // Clear form
            document.getElementById('newRankName').value = '';
            document.getElementById('newRankPrice').value = '';
            document.getElementById('newRankLink').value = '';
        }

        function addNewVoteSite() {
            const name = document.getElementById('newVoteSiteName').value;
            const link = document.getElementById('newVoteSiteLink').value;
            const reward = document.getElementById('newVoteSiteReward').value;
            
            if (!name || !link || !reward) {
                alert('Please fill in all fields!');
                return;
            }
            
            // In a real implementation, you would add this to your voting sites array
            alert(`New vote site "${name}" added!`);
            
            // Clear form
            document.getElementById('newVoteSiteName').value = '';
            document.getElementById('newVoteSiteLink').value = '';
            document.getElementById('newVoteSiteReward').value = '';
        }

        function removeVoteSite(index) {
            if (confirm('Are you sure you want to remove this vote site?')) {
                // In a real implementation, you would remove this from your voting sites array
                alert('Vote site removed!');
            }
        }

        function saveSettings() {
            if (!checkAuth()) return;
            
            // Gather voting sites
            const votingSites = [];
            for (let i = 0; i < 10; i++) {
                const nameElem = document.getElementById(`voteSite${i}Name`);
                const linkElem = document.getElementById(`voteSite${i}Link`);
                const rewardElem = document.getElementById(`voteSite${i}Reward`);
                const enabledElem = document.getElementById(`voteSite${i}Enabled`);
                
                if (nameElem && linkElem && rewardElem) {
                    votingSites.push({
                        name: nameElem.value,
                        link: linkElem.value,
                        reward: rewardElem.value,
                        enabled: enabledElem ? enabledElem.checked : true
                    });
                }
            }
            
            const settings = {
                // Header settings
                serverName: document.getElementById('serverName').value,
                logoUrl: document.getElementById('logoUrl').value,
                heroTitle: document.getElementById('heroTitle').value,
                heroSubtitle: document.getElementById('heroSubtitle').value,
                heroBackground: document.getElementById('heroBackground').value,
                
                // Rank settings
                vipEnabled: document.getElementById('vipEnabled').checked,
                vipName: document.getElementById('vipName').value,
                vipPrice: document.getElementById('vipPrice').value,
                vipLink: document.getElementById('vipLink').value,
                vipFeatures: document.getElementById('vipFeatures').value,
                
                mvpEnabled: document.getElementById('mvpEnabled').checked,
                mvpName: document.getElementById('mvpName').value,
                mvpPrice: document.getElementById('mvpPrice').value,
                mvpLink: document.getElementById('mvpLink').value,
                mvpFeatures: document.getElementById('mvpFeatures').value,
                
                legendEnabled: document.getElementById('legendEnabled').checked,
                legendName: document.getElementById('legendName').value,
                legendPrice: document.getElementById('legendPrice').value,
                legendLink: document.getElementById('legendLink').value,
                legendFeatures: document.getElementById('legendFeatures').value,
                
                // Voting settings
                votingSites: votingSites,
                
                // Store settings
                storeTitle: document.getElementById('storeTitle').value,
                storeDescription: document.getElementById('storeDescription').value,
                currencySymbol: document.getElementById('currencySymbol').value,
                paypalEnabled: document.getElementById('paypalEnabled').checked,
                stripeEnabled: document.getElementById('stripeEnabled').checked,
                cryptoEnabled: document.getElementById('cryptoEnabled').checked,
                paymentInstructions: document.getElementById('paymentInstructions').value,
                
                // General settings
                serverIp: document.getElementById('serverIp').value,
                serverStatus: document.getElementById('serverStatus').value,
                playersOnline: document.getElementById('playersOnline').value,
                primaryColor: document.getElementById('primaryColor').value,
                secondaryColor: document.getElementById('secondaryColor').value,
                discordLink: document.getElementById('discordLink').value,
                
                // Social settings
                socialDiscord: document.getElementById('socialDiscord').value,
                socialTwitter: document.getElementById('socialTwitter').value,
                socialYouTube: document.getElementById('socialYouTube').value,
                socialTikTok: document.getElementById('socialTikTok').value,
                socialInstagram: document.getElementById('socialInstagram').value,
                socialFacebook: document.getElementById('socialFacebook').value
            };
            
            localStorage.setItem('serverSettings', JSON.stringify(settings));
            alert('Settings saved successfully!');
        }

        function previewChanges() {
            if (!checkAuth()) return;
            
            // Open main website in new tab to preview changes
            window.open('index.html', '_blank');
        }

        function backupSettings() {
            if (!checkAuth()) return;
            
            const settings = localStorage.getItem('serverSettings');
            if (!settings) {
                alert('No settings to backup!');
                return;
            }
            
            const blob = new Blob([settings], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'drksurvraze-backup-' + new Date().toISOString().split('T')[0] + '.json';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }

        function restoreSettings() {
            if (!checkAuth()) return;
            
            const fileInput = document.getElementById('backupFile');
            const file = fileInput.files[0];
            
            if (!file) {
                alert('Please select a backup file!');
                return;
            }
            
            const reader = new FileReader();
            reader.onload = function(e) {
                try {
                    const settings = JSON.parse(e.target.result);
                    localStorage.setItem('serverSettings', JSON.stringify(settings));
                    loadSettings();
                    alert('Settings restored successfully!');
                } catch (error) {
                    alert('Invalid backup file!');
                }
            };
            reader.readAsText(file);
        }

        function resetSettings() {
            if (!checkAuth()) return;
            
            if (confirm('Are you sure you want to reset all settings to default? This cannot be undone!')) {
                localStorage.removeItem('serverSettings');
                loadSettings();
                alert('Settings reset to default!');
            }
        }

        // Initialize admin panel
        document.addEventListener('DOMContentLoaded', function() {
            if (!checkAuth()) return;
            loadSettings();
            
            // Add event listener for logo URL changes
            document.getElementById('logoUrl').addEventListener('input', updateLogoPreview);
        });
    </script>
</body>
</html>